import{a as j,e as r,f as t,h as m,t as a,c as b,F as h,g as f,l as I,D as C,n as p,b as S,o as n}from"./vendor-vue-DqfF2gyw.js";import{b as F,a as P}from"./index-CuI3qBSg.js";import{h as B,g as z}from"./useIngredientImage-BuW95jah.js";import"./vendor-supabase-Dq-Jb853.js";const D={class:"min-h-screen bg-gradient-to-br from-cyan-50 to-blue-50 pb-24"},U={class:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg sticky top-0 z-20"},V={class:"px-4 py-4"},E={class:"flex items-center justify-between"},L={class:"flex items-center gap-3"},N={class:"text-right"},q={class:"text-2xl font-bold"},A={class:"text-xs opacity-80"},R={class:"px-4 py-4 space-y-6"},$={class:"font-semibold text-gray-700 flex items-center gap-2"},G={class:"text-lg"},H={class:"text-sm text-gray-500"},J={class:"p-3 grid grid-cols-4 gap-2"},K=["onClick"],M={key:0,class:"absolute top-1 right-1 w-5 h-5 bg-cyan-500 rounded-full flex items-center justify-center"},O=["src","alt"],Q={key:0,class:"px-4 mt-8"},tt=j({__name:"PantryView",setup(T){S();const c=F(),g=P(),y=[{id:"grain",label:"ç©€ç‰©é¡",emoji:"ğŸŒ¾",color:"amber"},{id:"vegetable",label:"è”¬èœé¡",emoji:"ğŸ¥¬",color:"green"},{id:"fruit",label:"æ°´æœé¡",emoji:"ğŸ",color:"pink"},{id:"protein",label:"è›‹ç™½è³ªé¡",emoji:"ğŸ¥©",color:"red"},{id:"dairy",label:"ä¹³è£½å“é¡",emoji:"ğŸ¥›",color:"purple"},{id:"other",label:"å…¶ä»–",emoji:"ğŸ§‚",color:"gray"}];function d(o){return g.ingredients.filter(l=>l.category===o)}function i(o){return c.hasItem(o)}function _(o){c.toggleItem(o)}function v(o){return B(o.id)?z(o.id):o.imageUrl||"https://placehold.co/80x80/e2e8f0/64748b?text=Food"}const u=b(()=>c.getStockCount()),w=b(()=>g.ingredients.length);function k(){confirm("ç¢ºå®šè¦æ¸…ç©ºå†°ç®±å—ï¼Ÿ")&&c.clearAll()}return(o,l)=>(n(),r("div",D,[t("header",U,[t("div",V,[t("div",E,[l[1]||(l[1]=t("h1",{class:"text-xl font-bold flex items-center gap-2"},[t("span",null,"ğŸ§Š"),t("span",null,"æˆ‘çš„å†°ç®±")],-1)),t("div",L,[t("div",N,[t("p",q,a(u.value),1),t("p",A,"/ "+a(w.value)+" ç¨®é£Ÿæ",1)]),u.value>0?(n(),r("button",{key:0,onClick:k,class:"px-3 py-1 text-xs bg-white/20 hover:bg-white/30 rounded-full transition-colors"}," æ¸…ç©º ")):m("",!0)])])])]),t("div",R,[(n(),r(h,null,f(y,e=>I(t("div",{key:e.id,class:"bg-white rounded-2xl shadow-md overflow-hidden"},[t("div",{class:p(["px-4 py-3 flex items-center justify-between",{"bg-amber-50":e.color==="amber","bg-green-50":e.color==="green","bg-pink-50":e.color==="pink","bg-red-50":e.color==="red","bg-purple-50":e.color==="purple","bg-gray-50":e.color==="gray"}])},[t("h2",$,[t("span",G,a(e.emoji),1),t("span",null,a(e.label),1)]),t("span",H,a(d(e.id).filter(s=>i(s.id)).length)+" / "+a(d(e.id).length),1)],2),t("div",J,[(n(!0),r(h,null,f(d(e.id),s=>(n(),r("div",{key:s.id,class:"relative"},[t("button",{onClick:x=>_(s.id),class:p(["w-full aspect-square rounded-xl border-2 p-1 transition-all duration-200 flex flex-col items-center justify-center",i(s.id)?"border-cyan-500 bg-cyan-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300"])},[i(s.id)?(n(),r("div",M,[...l[2]||(l[2]=[t("span",{class:"text-white text-xs"},"âœ“",-1)])])):m("",!0),t("img",{src:v(s),alt:s.name,class:p(["w-10 h-10 object-contain",{"opacity-40 grayscale":!i(s.id)}]),loading:"lazy",onError:l[0]||(l[0]=x=>x.target.src="https://placehold.co/80x80/e2e8f0/64748b?text=Food")},null,42,O),t("p",{class:p(["text-xs mt-1 text-center truncate w-full px-1",i(s.id)?"text-gray-800 font-medium":"text-gray-400"])},a(s.name),3)],10,K)]))),128))])]),[[C,d(e.id).length>0]])),64))]),u.value===0?(n(),r("div",Q,[...l[3]||(l[3]=[t("div",{class:"bg-white rounded-2xl shadow-md p-6 text-center"},[t("div",{class:"text-5xl mb-3"},"ğŸ§Š"),t("h3",{class:"text-lg font-semibold text-gray-700 mb-2"},"å†°ç®±æ˜¯ç©ºçš„"),t("p",{class:"text-gray-500 text-sm"},"é»æ“Šä¸Šæ–¹é£ŸæåŠ å…¥å†°ç®±åº«å­˜")],-1)])])):m("",!0)]))}});export{tt as default};
