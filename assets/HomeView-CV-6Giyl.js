import{a as G,e as a,f as e,h as p,s as m,t as i,i as l,x,G as v,q as U,F as k,g as C,c as J,T as P,r as D,m as L,n as b,j as K,o}from"./vendor-vue-DqfF2gyw.js";import{e as Q,a as W,u as X,f as Y,d as Z}from"./index-CuI3qBSg.js";import{u as ee}from"./useSmartRecipes-8UR1zJxV.js";import"./vendor-supabase-Dq-Jb853.js";const te={class:"min-h-screen bg-gradient-to-br from-orange-50 to-green-50 pb-32"},se={class:"bg-gradient-to-r from-primary-500 to-secondary-500 text-white pt-8 pb-12 px-4"},oe={class:"container mx-auto"},ae={class:"text-center opacity-80"},ne={class:"container mx-auto px-4 -mt-6"},le={class:"grid grid-cols-4 gap-2"},re={class:"container mx-auto px-4 mt-6"},ie={class:"bg-white rounded-2xl shadow-lg overflow-hidden"},de={class:"p-4 border-b flex items-center justify-between"},ce={class:"divide-y"},ue={class:"flex items-start gap-4"},pe={class:"text-xs font-medium"},xe={class:"text-xl font-bold"},ge={class:"flex-1 min-h-[40px]"},me={key:0,class:"flex flex-wrap gap-2"},fe=["onClick"],ye={key:1,class:"text-gray-400 text-sm italic"},ve={key:0,class:"flex-shrink-0"},be={key:0,class:"fixed bottom-0 left-0 right-0 z-30"},he={key:0,class:"bg-white rounded-t-2xl shadow-2xl max-h-[70vh] overflow-hidden flex flex-col"},_e={class:"p-4 border-b flex items-center justify-between bg-gradient-to-r from-cyan-500 to-blue-500 text-white"},we={class:"flex-1 overflow-y-auto p-4"},ke={class:"space-y-2"},Ce=["checked","onChange"],De={class:"p-4 border-t bg-gray-50"},Se={class:"bg-white/20 px-3 py-1 rounded-full text-sm"},Me={class:"bg-white rounded-t-2xl md:rounded-2xl w-full max-w-md overflow-hidden"},Ne={key:0},Te={class:"p-4 border-b"},$e={class:"font-semibold text-gray-800"},Re={class:"text-sm text-gray-500 mt-1"},Fe={class:"p-4 space-y-2"},Pe={key:1},Le={class:"p-4 border-b flex items-center gap-2"},Ve={class:"max-h-[50vh] overflow-y-auto p-4 space-y-2"},je=["onClick"],ze={class:"font-medium text-gray-800"},Be={class:"text-xs text-gray-500 mt-1"},Ee={key:0,class:"text-green-600"},Ie=G({__name:"HomeView",setup(Oe){const g=Q(),V=W(),S=X(),{shoppingList:M,pendingCount:j,togglePurchased:z,addAllPurchasedToPantry:N}=Y(),{recommendedRecipes:B}=ee(),T=J(()=>{const r=[],t=new Date,s=t.toISOString().split("T")[0],d=t.getDay(),n=t.getDate()-d+(d===0?-6:1);for(let y=0;y<7;y++){const w=new Date(t);w.setDate(n+y);const F=w.toISOString().split("T")[0],q=["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"];r.push({date:F,dayName:`é€±${q[w.getDay()]}`,dayNum:w.getDate(),isToday:F===s})}return r}),h=D(!1),c=D(null),u=D(null),f=D(!1);function $(r){return V.recipes.find(t=>t.id===r)}function R(r){return g.getMealsForDate(r)}function E(r,t){c.value=r,u.value=t,f.value=!1}function _(){c.value=null,u.value=null,f.value=!1}function I(){c.value&&u.value&&(g.removeMealFromDate(c.value,u.value),_())}function O(r){c.value&&u.value&&(g.removeMealFromDate(c.value,u.value),g.addMealToDate(c.value,r),_())}function A(r){return{grain:"ç©€ç‰©",vegetable:"è”¬èœ",fruit:"æ°´æœ",protein:"è›‹ç™½è³ª"}[r]||r}function H(r){return{grain:"bg-amber-100 text-amber-800",vegetable:"bg-green-100 text-green-800",fruit:"bg-pink-100 text-pink-800",protein:"bg-blue-100 text-blue-800"}[r]||"bg-gray-100 text-gray-800"}return(r,t)=>(o(),a("div",te,[e("header",se,[e("div",oe,[t[5]||(t[5]=e("h1",{class:"text-3xl font-bold text-center mb-2"},"ğŸ¼ BabyMeal Passport",-1)),e("p",ae,i(l(S).babyName?`${l(S).babyName} Â· ${l(S).getAgeDisplay}`:"å¯¶å¯¶å‰¯é£Ÿå“ç®¡ç†"),1)])]),e("div",ne,[e("div",le,[m(l(v),{to:"/pantry",class:"bg-white rounded-xl shadow-md p-3 text-center hover:shadow-lg transition-all"},{default:x(()=>[...t[6]||(t[6]=[e("div",{class:"text-2xl mb-1"},"ğŸ¥•",-1),e("p",{class:"text-xs text-gray-600"},"é£Ÿæåœ–é‘‘",-1)])]),_:1}),m(l(v),{to:"/profile",class:"bg-white rounded-xl shadow-md p-3 text-center hover:shadow-lg transition-all"},{default:x(()=>[...t[7]||(t[7]=[e("div",{class:"text-2xl mb-1"},"ğŸ“‹",-1),e("p",{class:"text-xs text-gray-600"},"è­·ç…§",-1)])]),_:1}),m(l(v),{to:"/recipes",class:"bg-white rounded-xl shadow-md p-3 text-center hover:shadow-lg transition-all"},{default:x(()=>[...t[8]||(t[8]=[e("div",{class:"text-2xl mb-1"},"ğŸ“–",-1),e("p",{class:"text-xs text-gray-600"},"é£Ÿè­œ",-1)])]),_:1}),m(l(v),{to:"/wizard",class:"bg-white rounded-xl shadow-md p-3 text-center hover:shadow-lg transition-all"},{default:x(()=>[...t[9]||(t[9]=[e("div",{class:"text-2xl mb-1"},"ğŸ“…",-1),e("p",{class:"text-xs text-gray-600"},"é€±è¨ˆç•«",-1)])]),_:1})])]),e("div",re,[e("div",ie,[e("div",de,[t[11]||(t[11]=e("h2",{class:"font-semibold text-gray-800"},"ğŸ“† æœ¬é€±é¤é»",-1)),l(g).hasCurrentPlan?p("",!0):(o(),U(l(v),{key:0,to:"/wizard",class:"text-sm text-primary-500 font-medium"},{default:x(()=>[...t[10]||(t[10]=[L(" + å»ºç«‹è¨ˆç•« ",-1)])]),_:1}))]),e("div",ce,[(o(!0),a(k,null,C(T.value,s=>(o(),a("div",{key:s.date,class:b(["p-4 hover:bg-gray-50 transition-colors",{"bg-primary-50":s.isToday}])},[e("div",ue,[e("div",{class:b(["w-12 text-center flex-shrink-0",s.isToday?"text-primary-600":"text-gray-500"])},[e("p",pe,i(s.dayName),1),e("p",xe,i(s.dayNum),1)],2),e("div",ge,[R(s.date).length>0?(o(),a("div",me,[(o(!0),a(k,null,C(R(s.date),d=>{var n;return o(),a("button",{key:d,onClick:y=>E(s.date,d),class:"px-3 py-1.5 bg-gradient-to-r from-primary-100 to-secondary-100 text-gray-700 rounded-full text-sm hover:shadow-md transition-all"},i(((n=$(d))==null?void 0:n.title)||d),9,fe)}),128))])):(o(),a("p",ye,"å°šæœªå®‰æ’"))]),s.isToday?(o(),a("div",ve,[...t[12]||(t[12]=[e("span",{class:"px-2 py-1 bg-primary-500 text-white text-xs rounded-full"},"ä»Šå¤©",-1)])])):p("",!0)])],2))),128))])])]),l(g).hasCurrentPlan&&l(M).length>0?(o(),a("div",be,[m(P,{name:"slide-up"},{default:x(()=>[h.value?(o(),a("div",he,[e("div",_e,[t[13]||(t[13]=e("h3",{class:"font-semibold"},"ğŸ›’ è³¼ç‰©æ¸…å–®",-1)),e("button",{onClick:t[0]||(t[0]=s=>h.value=!1),class:"p-1 hover:bg-white/20 rounded"}," âœ• ")]),e("div",we,[e("div",ke,[(o(!0),a(k,null,C(l(M),s=>(o(),a("label",{key:s.ingredientId,class:b(["flex items-center gap-3 p-3 rounded-xl transition-all cursor-pointer",s.purchased?"bg-green-50":"bg-gray-50 hover:bg-gray-100"])},[e("input",{type:"checkbox",checked:s.purchased,onChange:d=>l(z)(s.ingredientId),class:"w-5 h-5 rounded border-gray-300 text-primary-500 focus:ring-primary-500"},null,40,Ce),e("span",{class:b(["flex-1",s.purchased?"line-through text-gray-400":"text-gray-700"])},i(s.name),3),e("span",{class:b(["text-xs px-2 py-0.5 rounded-full",H(s.category)])},i(A(s.category)),3)],2))),128))])]),e("div",De,[e("button",{onClick:t[1]||(t[1]=(...s)=>l(N)&&l(N)(...s)),class:"w-full py-3 bg-secondary-500 text-white rounded-xl font-medium hover:bg-secondary-600 transition-colors"}," âœ“ å·²è²·å®Œï¼ŒåŠ å…¥å†°ç®± ")])])):p("",!0)]),_:1}),h.value?p("",!0):(o(),a("button",{key:0,onClick:t[2]||(t[2]=s=>h.value=!0),class:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white p-4 flex items-center justify-between shadow-lg"},[t[14]||(t[14]=e("span",{class:"font-medium"},"ğŸ›’ è³¼ç‰©æ¸…å–®",-1)),e("span",Se," å¾…è²·: "+i(l(j))+" é … ",1)]))])):p("",!0),m(P,{name:"fade"},{default:x(()=>{var s,d;return[c.value&&u.value?(o(),a("div",{key:0,class:"fixed inset-0 bg-black/50 z-40 flex items-end md:items-center justify-center p-4",onClick:K(_,["self"])},[e("div",Me,[f.value?(o(),a("div",Pe,[e("div",Le,[e("button",{onClick:t[4]||(t[4]=n=>f.value=!1),class:"text-gray-500 hover:text-gray-700"}," â† "),t[15]||(t[15]=e("h3",{class:"font-semibold text-gray-800"},"é¸æ“‡æ–°é£Ÿè­œ",-1))]),e("div",Ve,[(o(!0),a(k,null,C(l(B).filter(n=>n.recipe.id!==u.value),n=>(o(),a("button",{key:n.recipe.id,onClick:y=>O(n.recipe.id),class:"w-full p-3 text-left bg-gray-50 rounded-xl hover:bg-primary-50 transition-colors"},[e("p",ze,i(n.recipe.title),1),e("p",Be,[L(i(n.recipe.min_month)+"-"+i(n.recipe.max_month)+"M ",1),n.readyToCook?(o(),a("span",Ee,"Â· âœ… é£Ÿæé½Šå…¨")):p("",!0)])],8,je))),128))])])):(o(),a("div",Ne,[e("div",Te,[e("h3",$e,i((s=$(u.value))==null?void 0:s.title),1),e("p",Re,i((d=T.value.find(n=>n.date===c.value))==null?void 0:d.dayName)+" Â· "+i(c.value),1)]),e("div",Fe,[e("button",{onClick:t[3]||(t[3]=n=>f.value=!0),class:"w-full py-3 bg-primary-100 text-primary-700 rounded-xl font-medium hover:bg-primary-200 transition-colors"}," ğŸ”„ æ›¿æ›é£Ÿè­œ "),e("button",{onClick:I,class:"w-full py-3 bg-red-100 text-red-700 rounded-xl font-medium hover:bg-red-200 transition-colors"}," ğŸ—‘ï¸ åˆªé™¤é¤é» "),e("button",{onClick:_,class:"w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors"}," å–æ¶ˆ ")])]))])])):p("",!0)]}),_:1})]))}}),Ue=Z(Ie,[["__scopeId","data-v-1befec2d"]]);export{Ue as default};
